/* src/chordwheel.css â€” wide standard & advanced; labels align; timeline under wheel */

/* Shared column width so labels match grid exactly */
.toy-panel[data-toy="chordwheel"]{ --cw-col: 62px; }           /* STANDARD */
.toy-zoomed[data-toy="chordwheel"]{ --cw-col: 78px; }          /* ADVANCED */

/* Stack: wheel on top, timeline under */
.toy-panel[data-toy="chordwheel"] .cw-wrap{ display:grid; gap:14px; }
.toy-panel[data-toy="chordwheel"] .cw-flex{ display:grid; grid-template-columns:1fr; gap:14px; }

/* Break any inherited square/aspect clamp just for this toy */
.toy-panel[data-toy="chordwheel"] .toy-body{
  width:100%;
  max-width:none;
  height:auto;
  min-height:unset;
  max-height:none;
  aspect-ratio:auto;
}

/* Allow the containing panel to expand in standard */
.toy-panel[data-toy="chordwheel"]{
  /* Let the panel size itself to its content, which is the wide timeline. */
  /* !important overrides inline style from the 'Organize' button JS. */
  width: auto !important;
  /* Use inline-flex to make it shrink-to-fit, while keeping column layout. */
  display: inline-flex;
  flex-direction: column;
}

/* Wheel sizing */
.cw-wheel{ width:100%; max-width:520px; margin:0 auto; display:block; }

/* Timeline card */
.cw-timeline{
  background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.015));
  border:1px solid #1f2a3d;
  border-radius:14px;
  padding:16px;
  /* Remove overflow-x so the timeline can dictate the panel's width. */
  overflow-x:visible;
}

/* ONE label row above the grid: 16 columns using --cw-col; labels span 2 */
.cw-bar-heads{
  display:grid;
  grid-template-columns:repeat(16, var(--cw-col));
  gap:10px;                 /* must match .cw-grid gap for perfect visual width */
  margin:0 0 10px 0;
}
.cw-head{
  grid-column:span 2;
  display:flex; align-items:center; justify-content:center;
  height:24px; border-radius:8px;
  font:600 12px/1 system-ui;
  color:#0b111c; background:#94a3b8;
}

/* GRID: 16 buttons using the same column width and gap */
.cw-grid{
  display:grid;
  grid-template-columns:repeat(16, var(--cw-col));
  gap:10px;
}
.cw-slot{
  cursor:pointer;
  aspect-ratio:1/1.05;
  border-radius:10px;
  display:grid; place-items:center;
  border:1px solid #334155;
  background:#0b111c;
  touch-action:manipulation;
}
.cw-slot.active{ box-shadow:inset 0 8px 20px rgba(0,0,0,.35), 0 0 0 2px rgba(255,255,255,.06); }
.cw-arrow{ width:72%; height:72%; }
.toy-panel[data-toy="chordwheel"] .cw-arrow{ pointer-events:none; }

/* Footer buttons */
.cw-footer{ display:flex; gap:10px; justify-content:flex-end; margin-top:10px; }
.cw-btn{ padding:9px 12px; border-radius:10px; border:1px solid #233049; background:#121a2c; color:#dbe3f3; cursor:pointer; }
.cw-btn:active{ transform:translateY(1px); }

/* ADVANCED overlay wide and aligned via --cw-col */
.toy-zoomed[data-toy="chordwheel"]{ width:min(100vw, 1920px) !important; height:auto; }
.toy-zoomed[data-toy="chordwheel"] .toy-body{ width:100%; max-width:none; aspect-ratio:auto; }
.toy-zoomed[data-toy="chordwheel"] .cw-timeline{ padding:20px; }

/* Optional: if a duplicate labels row sneaks in below the grid, hide it */
.cw-grid + .cw-bar-heads{ display:none !important; }
